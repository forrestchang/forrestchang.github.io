<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>
  
    修改 OmniFocus 3 的主题 | Jiayuan&#39;s Blog
  
  </title>

  <meta name="description" content="编程，效率和随笔。">

  
  
  <link rel="stylesheet" href="/main.css" media="screen">

  <link rel="canonical" href="http://blog.jiayuanzhang.com/post/how-to-modify-omnifocus-3-theme/">
  <link href="" rel="alternate" type="application/rss+xml" title="Jiayuan&#39;s Blog" />

  <script async defer src="https://buttons.github.io/buttons.js"></script>
</head>


  
  <body class="font-smoothing">
    <header class="px-2 clearfix">
  <div class="right-lg absolute-lg right-0 top-0">
    <ul class="mt-1 mt-lg-2 mr-2 mr-lg-3">
      <li class="inline-block block-lg text-right ml-1 ml-lg-0">
        <a class="italic h4 bold no-underline" href="http://blog.jiayuanzhang.com">
          Home
        </a>
      </li>
      
      <li class="inline-block block-lg text-right ml-1 ml-lg-0">
        <a class="italic no-underline h4" href="http://blog.jiayuanzhang.com/post">
          post
        </a>
      </li>
      
    </ul>
  </div>
</header>


    <div>
      <article class="container mx-auto px-2">
        <div class="prose mb-4 py-4">
          <article class="container mx-auto px-2" itemscope itemtype="http://schema.org/BlogPosting">
  <div class="mt-4 mb-2 clearfix header-text">
    <h1 class="h0 inline-block py-2 mt-4 header-title">修改 OmniFocus 3 的主题</h1>
    <div class="clearfix mb-4 py-1">
      <p class="h4 lh-condensed">
      <time datetime="2019-05-23T00:00:00Z" itemprop="datePublished">May 23, 2019</time></p>
      <div class="col-1 sm-width-full border-top-thick">
      </div>
    </div>
  </div>

  <div class="prose py-4" itemprop="articleBody">
    <p>OmniFocus 3 提供了 Dark Mode，但是却没有提供自定义主题的功能，Dark Mode 看久了也会腻，所以最近又切换到 Light Mode 下来了。搜索了一下，看到这篇讨论：<a href="https://discourse.omnigroup.com/t/is-it-possible-to-reduce-fontsize-or-fontstyle-of-the-headline-of-a-perspective/44258/8?u=jannock">Is it possible to reduce fontsize or fontstyle of the headline of a perspective?</a>，可以通过修改配置的方式来修改 OmniFocus 的主题。</p>

<p><img src="https://raw.githubusercontent.com/forrestchang/img-repo/master/20190523111224.png" alt="" /></p>

<p>具体的修改方法为：</p>

<p>在 <code>/Applications/OmniFocus.app/Contents/Resources/ThemeResources/SystemFont</code> 下面修改字体的大小和页边距，首先我们先修改边距大小，我默认选择的是 Extra Large 的字体，所以需要修改 <code>OFIExtraLargeLayoutConstraintConstants.plit</code>。</p>

<p>找到以下代码：</p>

<pre><code class="language-xml">&lt;key&gt;extraPaddingBelowNoteForActionCells&lt;/key&gt;
&lt;real&gt;20&lt;/real&gt;
&lt;key&gt;extraPaddingBelowNoteForColumnarActionCells&lt;/key&gt;
&lt;real&gt;20&lt;/real&gt;
&lt;key&gt;extraPaddingBelowNoteForProjectCells&lt;/key&gt;
&lt;real&gt;20&lt;/real&gt;
</code></pre>

<p>然后把 <code>real</code> 的值设定成自己想要的就好了，我这边设定为 20，最后看起来的效果还可以。</p>

<p>然后修改 Note 的字体，打开 <code>OFIFontRegistry.plit</code>，找到以下代码：</p>

<pre><code class="language-xml">&lt;key&gt;OFITextStyleNoteBody&lt;/key&gt;
&lt;dict&gt;
	&lt;key&gt;content-sizes&lt;/key&gt;
	&lt;array&gt;
		&lt;real&gt;13&lt;/real&gt;
		&lt;real&gt;13&lt;/real&gt;
		&lt;real&gt;14&lt;/real&gt;
		&lt;real&gt;15&lt;/real&gt;
		&lt;real&gt;16&lt;/real&gt;
	&lt;/array&gt;
	&lt;key&gt;font-name&lt;/key&gt;
	&lt;string&gt;regular&lt;/string&gt;
&lt;/dict&gt;
</code></pre>

<p>依次修改 <code>real</code> 的值，对应 OmniFocus 的以下配置：</p>

<p><img src="https://raw.githubusercontent.com/forrestchang/img-repo/master/20190523112118.png" alt="" /></p>

<p>Next Action, Due 和 Overdue 的颜色可以在 <code>/Applications/OmniFocus.app/Contents/Resources/ThemeResources/</code> 下面修改，找到对应的主题，例如我现在使用的是 Light Mode，就修改 <code>30-Light-ColoredText/OFIThemeAppearance.plist</code> 文件。</p>

<p>其中颜色的值使用的 NSColor HSB<sup class="footnote-ref" id="fnref:nscolor"><a href="#fn:nscolor">1</a></sup> 格式的，需要对 RGB 或者 Hex 格式的颜色值做一下转换，可以找到喜欢的颜色值，然后在<a href="https://rgb.to/">这个网站</a><sup class="footnote-ref" id="fnref:convert"><a href="#fn:convert">2</a></sup>转换。</p>

<p>把 Resource 中的配置文件浏览了一下，发现还是可以定制很多其他东西的，基于这个可以实现一个主题工具，但是不知道 OmniFocus 更新会不会把 Resource 文件覆盖掉，这个之后测试一下。</p>
<div class="footnotes">

<hr />

<ol>
<li id="fn:nscolor"><a href="https://developer.apple.com/documentation/appkit/nscolor">NSColor - AppKit | Apple Developer Documentation</a>
 <a class="footnote-return" href="#fnref:nscolor"><sup>[return]</sup></a></li>
<li id="fn:convert"><a href="https://rgb.to/">Convert Hex color #7ca746 to Rgb, Pantone, RAL, HSL, HSV, HSB, JSON. Get color scheme.</a>
 <a class="footnote-return" href="#fnref:convert"><sup>[return]</sup></a></li>
</ol>
</div>

  </div>
</article>

<div class="container mx-auto px-2 py-2 clearfix">
  

</div>

        </div>
      </article>

      <div>
        <div class="post bg-white">
        <script src="https://utteranc.es/client.js"
            repo= "forrestchang/forrestchang.github.io"
            issue-term="pathname"
            theme="github-light"
            label="utterances"
            crossorigin="anonymous"
            async>
        </script>
    </div>
      </div>
    </div>

    <div class="container mx-auto clearfix mt-2 mt-lg-4 px-2">
  <div class="border-top-thick">
    <p class="col-8 sm-width-full left py-2 mb-0">
      This project is maintained by
      <a
        class="text-accent"
        href="https://github.com/forrestchang"
        >forrestchang</a
      >
    </p>
    <ul class="list-reset right clearfix sm-width-full py-2 mb-2 mb-lg-0">
      <li class="inline-block mr-1">
        <a
          href="https://twitter.com/share"
          class="twitter-share-button"
          data-hashtags="修改 OmniFocus 3 的主题"
          >Tweet</a
        >
        <script>
          !(function(d, s, id) {
            var js,
              fjs = d.getElementsByTagName(s)[0],
              p = /^http:/.test(d.location) ? "http" : "https";
            if (!d.getElementById(id)) {
              js = d.createElement(s);
              js.id = id;
              js.src = p + "://platform.twitter.com/widgets.js";
              fjs.parentNode.insertBefore(js, fjs);
            }
          })(document, "script", "twitter-wjs");
        </script>
      </li>
      <li class="inline-block">
        <a
          class="github-button"
          href="https://github.com/forrestchang/forrestchang.github.io"
          data-icon="octicon-star"
          data-count-href="forrestchang/forrestchang.github.io/stargazers"
          data-count-api="/repos/forrestchang/forrestchang.github.io#stargazers_count"
          data-count-aria-label="# stargazers on GitHub"
          aria-label="Star forrestchang/forrestchang.github.io on GitHub"
          >Star</a
        >
      </li>
    </ul>
  </div>
</div>

  </body>
</html>
