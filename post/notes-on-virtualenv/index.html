<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>
  
    virtualenv 相关笔记 | Jiayuan&#39;s Blog
  
  </title>

  <meta name="description" content="编程，效率和随笔。">

  
  
  <link rel="stylesheet" href="/main.css" media="screen">

  <link rel="canonical" href="http://blog.jiayuanzhang.com/post/notes-on-virtualenv/">
  <link href="" rel="alternate" type="application/rss+xml" title="Jiayuan&#39;s Blog" />

  <script async defer src="https://buttons.github.io/buttons.js"></script>
</head>


  
  <body class="font-smoothing">
    <header class="px-2 clearfix">
  <div class="right-lg absolute-lg right-0 top-0">
    <ul class="mt-1 mt-lg-2 mr-2 mr-lg-3">
      <li class="inline-block block-lg text-right ml-1 ml-lg-0">
        <a class="italic h4 bold no-underline" href="http://blog.jiayuanzhang.com">
          Home
        </a>
      </li>
      
      <li class="inline-block block-lg text-right ml-1 ml-lg-0">
        <a class="italic no-underline h4" href="http://blog.jiayuanzhang.com/post">
          post
        </a>
      </li>
      
    </ul>
  </div>
</header>


    <div>
      <article class="container mx-auto px-2">
        <div class="prose mb-4 py-4">
          <article class="container mx-auto px-2" itemscope itemtype="http://schema.org/BlogPosting">
  <div class="mt-4 mb-2 clearfix header-text">
    <h1 class="h0 inline-block py-2 mt-4 header-title">virtualenv 相关笔记</h1>
    <div class="clearfix mb-4 py-1">
      <p class="h4 lh-condensed">
      <time datetime="2016-07-17T00:00:00Z" itemprop="datePublished">July 17, 2016</time></p>
      <div class="col-1 sm-width-full border-top-thick">
      </div>
    </div>
  </div>

  <div class="prose py-4" itemprop="articleBody">
    

<h2 id="安装">安装</h2>

<p>直接使用 pip 来进行安装：</p>

<pre><code>$ sudo pip install virtualenv
</code></pre>

<h2 id="用途">用途</h2>

<p>主要用来创建隔离的 Python 开发环境，比如说一个项目需要用到 2.7 的库，另一个项目需要用到 3.0 的库，我们就可以使用  virtualenv 来分别给这两个项目创建虚拟的 Python 环境，这样可以有效的避免冲突。</p>

<p>virtualenv 会创建一个拥有独立安装目录的 Python 环境，该隔离环境不会与其他 virtualenv 环境共享模块（可以选择是否访问全局安装目录）。</p>

<h2 id="使用">使用</h2>

<h3 id="创建虚拟环境">创建虚拟环境</h3>

<p>最基本的使用：</p>

<pre><code>$ virtualenv ENV
</code></pre>

<p>其中 <code>ENV</code> 是用来存放虚拟环境的目录。</p>

<pre><code>$tree -L 1 ENV
ENV
├── bin
├── include
├── lib
└── pip-selfcheck.json
</code></pre>

<p>其中 <code>lib</code> 和 <code>include</code> 目录是用来存放新的虚拟 Python 环境的依赖库，Package 被安装到 <code>lib/pythonX.X/site-packages/</code> 中，<code>bin</code> 目录中是新的 Python 解释器。<code>pip</code> 和 <code>setuptools</code> 默认被安装的。</p>

<h3 id="active-script">active script</h3>

<p>进入虚拟环境：</p>

<pre><code>$ source ENV/bin/active
</code></pre>

<p>（如果 <code>source</code> 命令不存在可以使用 <code>.</code> 命令。）</p>

<p>退出虚拟环境：</p>

<pre><code>$ deactivate
</code></pre>

<h3 id="removing-an-environment">Removing an Environment</h3>

<pre><code>(ENV)$ deactivate
$ rm -r /path/to/ENV
</code></pre>

<h3 id="system-site-packages-选项"><code>--system-site-packages</code> 选项</h3>

<p>使用 <code>virtualenv --system-site-packages ENV</code> 将会继承全局 packages。并不是很常用的功能。</p>

<h3 id="指定-python-版本">指定 Python 版本</h3>

<p>使用 <code>-p PYTHON_EXE</code> 选项在创建虚拟环境的时候制定 Python 版本。</p>

<p>Python 2.7:</p>

<pre><code>$ virtualenv -p /usr/bin/python2.7 ENV2.7
</code></pre>

<p>Python 3.5:</p>

<pre><code>$ virtualenv -p /usr/local/bin/python3.5 ENV3.5
</code></pre>

<h3 id="生成可打包环境">生成可打包环境</h3>

<p>某些情况下，我们可能需要在别的地方使用这个已经配置好的虚拟环境，可以使用 <code>virtualenv --relocatable</code> 将 ENV 修改为可迁移的。</p>

<pre><code>(ENV)$ virutalenv --relocatable ./
</code></pre>

  </div>
</article>

<div class="container mx-auto px-2 py-2 clearfix">
  

</div>

        </div>
      </article>

      <div>
        <div class="post bg-white">
        <script src="https://utteranc.es/client.js"
            repo= "forrestchang/forrestchang.github.io"
            issue-term="pathname"
            theme="github-light"
            label="utterances"
            crossorigin="anonymous"
            async>
        </script>
    </div>
      </div>
    </div>

    <div class="container mx-auto clearfix mt-2 mt-lg-4 px-2">
  <div class="border-top-thick">
    <p class="col-8 sm-width-full left py-2 mb-0">
      This project is maintained by
      <a
        class="text-accent"
        href="https://github.com/forrestchang"
        >forrestchang</a
      >
    </p>
    <ul class="list-reset right clearfix sm-width-full py-2 mb-2 mb-lg-0">
      <li class="inline-block mr-1">
        <a
          href="https://twitter.com/share"
          class="twitter-share-button"
          data-hashtags="virtualenv 相关笔记"
          >Tweet</a
        >
        <script>
          !(function(d, s, id) {
            var js,
              fjs = d.getElementsByTagName(s)[0],
              p = /^http:/.test(d.location) ? "http" : "https";
            if (!d.getElementById(id)) {
              js = d.createElement(s);
              js.id = id;
              js.src = p + "://platform.twitter.com/widgets.js";
              fjs.parentNode.insertBefore(js, fjs);
            }
          })(document, "script", "twitter-wjs");
        </script>
      </li>
      <li class="inline-block">
        <a
          class="github-button"
          href="https://github.com/forrestchang/forrestchang.github.io"
          data-icon="octicon-star"
          data-count-href="forrestchang/forrestchang.github.io/stargazers"
          data-count-api="/repos/forrestchang/forrestchang.github.io#stargazers_count"
          data-count-aria-label="# stargazers on GitHub"
          aria-label="Star forrestchang/forrestchang.github.io on GitHub"
          >Star</a
        >
      </li>
    </ul>
  </div>
</div>

  </body>
</html>
